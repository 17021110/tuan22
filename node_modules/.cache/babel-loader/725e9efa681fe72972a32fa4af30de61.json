{"ast":null,"code":"var _jsxFileName = \"/Users/tuan/Documents/reactjs/tuan22/src/components/Items.js\";\nimport React, { useState } from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport ItemTypes from \"./ItemTypes\";\nimport \"./style.css\";\n\nconst Item = ({\n  item,\n  source,\n  combine,\n  removeItem,\n  hideSourceOnDrag,\n  left,\n  top,\n  id\n}) => {\n  const [{\n    isDragging,\n    canDrag\n  }, drag] = useDrag({\n    item: {\n      type: ItemTypes.ITEM,\n      name: item.name,\n      img: item.img,\n      removeItem,\n      source,\n      left,\n      top,\n      id\n    },\n    collect: monitor => ({\n      canDrag: monitor.canDrag(),\n      isDragging: monitor.isDragging()\n    })\n  });\n  const [, setHasDropped] = useState(false);\n  const [{\n    dropItem\n  }, drop] = useDrop({\n    accept: ItemTypes.ITEM,\n\n    drop() {\n      console.log(dropItem); // cai minh keo \n\n      console.log(item); // cai chua(bao gom) cai minh keo tha vao\n\n      console.log(source); // nguon lay tu the Item \n\n      if (source === \"list\" && dropItem.source === 'dustbin') {\n        console.log('xoa');\n        console.log(dropItem);\n        dropItem.removeItem(dropItem);\n      } else if (source === 'list' && dropItem.source === 'list') {\n        console.log('khong duowc');\n      } else {\n        combine(item, dropItem);\n        setHasDropped(true);\n      }\n    },\n\n    collect: monitor => ({\n      dropItem: monitor.getItem(),\n      isOver: monitor.isOver(),\n      isOverCurrent: monitor.isOver({\n        shallow: true\n      })\n    })\n  });\n  hideSourceOnDrag = source === \"dustbin\" ? true : false;\n\n  if (isDragging && hideSourceOnDrag) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: drag,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 12\n      }\n    });\n  }\n\n  let refType = canDrag ? drag : drop;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: refType,\n    className: \"items\",\n    style: {\n      left,\n      top\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: require(\"../Images/\" + item.img),\n    alt: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, item.name));\n};\n\nexport default Item;","map":{"version":3,"sources":["/Users/tuan/Documents/reactjs/tuan22/src/components/Items.js"],"names":["React","useState","useDrag","useDrop","ItemTypes","Item","item","source","combine","removeItem","hideSourceOnDrag","left","top","id","isDragging","canDrag","drag","type","ITEM","name","img","collect","monitor","setHasDropped","dropItem","drop","accept","console","log","getItem","isOver","isOverCurrent","shallow","refType","require"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport ItemTypes from \"./ItemTypes\";\nimport \"./style.css\";\n\nconst Item = ({ item, source, combine,removeItem, hideSourceOnDrag, left, top,id,}) => {\n\n    \n  const [{isDragging, canDrag}, drag] = useDrag({\n    item: { type: ItemTypes.ITEM, name: item.name, img: item.img,removeItem,source,left,top,id,},\n    \n    collect: monitor => ({\n      canDrag : monitor.canDrag(),\n      isDragging : monitor.isDragging(),\n    }),\n  });\n \n  const [, setHasDropped] = useState(false);\n  const [{ dropItem }, drop] = useDrop({\n    accept: ItemTypes.ITEM,\n    drop() {\n      console.log(dropItem) // cai minh keo \n      console.log(item) // cai chua(bao gom) cai minh keo tha vao\n      console.log(source) // nguon lay tu the Item \n      \n      if ((source === \"list\"&&dropItem.source==='dustbin'))\n          {\n            console.log('xoa')\n            console.log(dropItem)\n            dropItem.removeItem(dropItem)\n          \n          }\n      else if(source==='list'&&dropItem.source==='list'){\n        console.log('khong duowc')\n      }\n      else{\n        combine(item, dropItem);\n        setHasDropped(true);\n    }\n     \n    },\n    collect: monitor => ({\n      dropItem: monitor.getItem(),\n      isOver: monitor.isOver(),\n      isOverCurrent: monitor.isOver({ shallow: true })\n    })\n  });\n  \nhideSourceOnDrag = source === \"dustbin\" ? true:false\n  if (isDragging && hideSourceOnDrag) {\n    return <div ref={drag} />\n  }\n\n\n  let refType = canDrag ? drag : drop\n\n  return (\n    \n      <div ref={refType} className=\"items\" style={{left,top}}>\n        <img src={require(\"../Images/\" + item.img)} alt='img' />\n        <div className=\"text\">{item.name}</div>\n      </div>\n    \n  );\n};\nexport default Item;\n"]},"metadata":{},"sourceType":"module"}